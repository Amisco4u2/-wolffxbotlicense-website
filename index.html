<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wolf FX Trading Academy - Professional Expert Advisor</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #0a0e27 0%, #1a1e37 100%); color: white; line-height: 1.6; }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        
        /* Header */
        header { background: rgba(10, 14, 39, 0.95); padding: 20px 0; border-bottom: 3px solid #00ff88; margin-bottom: 30px; box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3); }
        h1 { text-align: center; color: #00ff88; font-size: 2.5rem; margin-bottom: 15px; text-shadow: 0 0 20px rgba(0, 255, 136, 0.5); }
        .subtitle { text-align: center; color: #8892a8; font-size: 1.2rem; margin-bottom: 20px; }
        .nav { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        .nav-btn { background: rgba(0, 255, 136, 0.1); color: #00ff88; border: 2px solid #00ff88; padding: 12px 30px; border-radius: 8px; cursor: pointer; font-weight: bold; transition: all 0.3s; }
        .nav-btn:hover { background: rgba(0, 255, 136, 0.2); transform: translateY(-2px); }
        
        /* Pages */
        .page { display: none; }
        .page.active { display: block; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        /* Sections */
        .section { background: rgba(26, 30, 55, 0.9); padding: 40px; border-radius: 15px; border: 2px solid #00ff88; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); }
        .section h2 { color: #00ff88; margin-bottom: 25px; font-size: 2rem; }
        .section h3 { color: #00ff88; margin: 25px 0 15px; font-size: 1.5rem; }
        .section p { margin-bottom: 15px; line-height: 1.8; }
        .section ul { margin-left: 25px; margin-bottom: 15px; }
        .section li { margin-bottom: 10px; }
        
        /* Hero Section */
        .hero { background: linear-gradient(135deg, rgba(0, 255, 136, 0.1), rgba(0, 204, 106, 0.05)); border: 3px solid #00ff88; padding: 50px; text-align: center; border-radius: 20px; margin-bottom: 40px; }
        .hero h2 { font-size: 2.5rem; margin-bottom: 20px; }
        .hero p { font-size: 1.3rem; color: #8892a8; margin-bottom: 30px; }
        
        /* Feature Grid */
        .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin: 30px 0; }
        .feature-card { background: linear-gradient(135deg, #1a1e37, #0a0e27); padding: 30px; border-radius: 15px; border: 2px solid #444; transition: all 0.3s; }
        .feature-card:hover { border-color: #00ff88; transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0, 255, 136, 0.3); }
        .feature-icon { font-size: 3rem; margin-bottom: 15px; }
        .feature-title { color: #00ff88; font-size: 1.3rem; font-weight: bold; margin-bottom: 10px; }
        
        /* Pricing */
        .pricing-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px; margin-top: 30px; }
        .pricing-card { background: linear-gradient(135deg, #1a1e37, #0a0e27); border: 3px solid #444; border-radius: 15px; padding: 35px; text-align: center; transition: all 0.3s; position: relative; overflow: hidden; }
        .pricing-card::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 5px; background: linear-gradient(90deg, #00ff88, #00cc6a); opacity: 0; transition: opacity 0.3s; }
        .pricing-card:hover { border-color: #00ff88; transform: translateY(-10px); box-shadow: 0 15px 50px rgba(0, 255, 136, 0.4); }
        .pricing-card:hover::before { opacity: 1; }
        .plan-badge { background: #00ff88; color: #0a0e27; padding: 5px 15px; border-radius: 20px; font-size: 0.85rem; font-weight: bold; margin-bottom: 15px; display: inline-block; }
        .plan-name { font-size: 1.8rem; font-weight: bold; color: #00ff88; margin-bottom: 15px; text-transform: uppercase; }
        .plan-price { font-size: 3rem; font-weight: bold; margin-bottom: 10px; background: linear-gradient(135deg, #00ff88, #00cc6a); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .plan-duration { color: #8892a8; margin-bottom: 20px; font-size: 1.1rem; }
        .plan-features { list-style: none; text-align: left; margin: 25px 0; }
        .plan-features li { padding: 10px 0; padding-left: 35px; position: relative; font-size: 1rem; }
        .plan-features li:before { content: "‚úì"; position: absolute; left: 0; color: #00ff88; font-weight: bold; font-size: 1.5rem; }
        
        /* Buttons */
        .btn { background: linear-gradient(135deg, #00ff88, #00cc6a); color: #0a0e27; border: none; padding: 15px 40px; font-size: 1.2rem; font-weight: bold; border-radius: 10px; cursor: pointer; width: 100%; margin-top: 20px; transition: all 0.3s; text-transform: uppercase; }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0, 255, 136, 0.5); }
        .btn:active { transform: translateY(0); }
        .btn-danger { background: linear-gradient(135deg, #ff3366, #cc0044); }
        .btn-warning { background: linear-gradient(135deg, #ffa500, #cc8400); }
        .btn-info { background: linear-gradient(135deg, #0088ff, #0066cc); }
        .btn-secondary { background: transparent; border: 2px solid #00ff88; color: #00ff88; }
        .btn-secondary:hover { background: rgba(0, 255, 136, 0.1); }
        .btn-small { padding: 8px 20px; font-size: 0.9rem; margin: 5px; width: auto; }
        
        /* Forms */
        .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; color: #00ff88; font-weight: bold; margin-bottom: 8px; font-size: 1.05rem; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 14px; font-size: 1rem; background: #0a0e27; border: 2px solid #444; border-radius: 8px; color: white; transition: all 0.3s; }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: #00ff88; box-shadow: 0 0 10px rgba(0, 255, 136, 0.3); }
        
        /* Modal */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.95); z-index: 1000; overflow-y: auto; padding: 20px; }
        .modal.active { display: block; }
        .modal-content { background: linear-gradient(135deg, #1a1e37, #0a0e27); max-width: 1000px; margin: 50px auto; border-radius: 20px; border: 3px solid #00ff88; padding: 40px; position: relative; box-shadow: 0 20px 60px rgba(0, 255, 136, 0.3); }
        .close-btn { position: absolute; top: 20px; right: 20px; font-size: 2.5rem; color: #00ff88; cursor: pointer; background: none; border: none; transition: all 0.3s; }
        .close-btn:hover { transform: rotate(90deg); color: #ff3366; }
        
        /* Tables */
        .table-container { overflow-x: auto; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: rgba(10, 14, 39, 0.5); }
        th, td { padding: 15px; text-align: left; border-bottom: 1px solid #444; }
        th { background: linear-gradient(135deg, #00ff88, #00cc6a); color: #0a0e27; font-weight: bold; text-transform: uppercase; font-size: 0.9rem; }
        tr:hover { background: rgba(0, 255, 136, 0.05); }
        tr.highlight { background: rgba(0, 255, 136, 0.1); }
        tr.expiring-soon { background: rgba(255, 165, 0, 0.1); }
        
        /* Status badges */
        .badge { padding: 6px 18px; border-radius: 20px; font-size: 0.85rem; font-weight: bold; display: inline-block; }
        .badge-pending { background: #ffa500; color: white; }
        .badge-active { background: #00ff88; color: #0a0e27; }
        .badge-expired { background: #ff3366; color: white; }
        
        /* Timer */
        .timer { background: linear-gradient(135deg, #1a1e37, #0a0e27); padding: 20px; border-radius: 12px; border: 2px solid #00ff88; margin: 15px 0; text-align: center; }
        .timer-label { color: #8892a8; font-size: 0.9rem; margin-bottom: 10px; }
        .timer-value { font-size: 2rem; font-weight: bold; color: #00ff88; font-family: monospace; }
        .timer-warning { color: #ffa500; }
        .timer-danger { color: #ff3366; }
        
        /* Stats Cards */
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .stat-card { background: linear-gradient(135deg, #1a1e37, #0a0e27); padding: 25px; border-radius: 15px; border: 2px solid #00ff88; text-align: center; }
        .stat-value { font-size: 3rem; font-weight: bold; color: #00ff88; margin: 10px 0; }
        .stat-label { color: #8892a8; font-size: 1.1rem; text-transform: uppercase; }
        
        /* Payment */
        .payment-methods { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin: 25px 0; }
        .payment-method { background: #0a0e27; border: 3px solid #444; padding: 30px 20px; text-align: center; cursor: pointer; border-radius: 12px; transition: all 0.3s; }
        .payment-method:hover { border-color: #00ff88; transform: scale(1.05); }
        .payment-method.selected { border-color: #00ff88; background: rgba(0, 255, 136, 0.15); box-shadow: 0 0 20px rgba(0, 255, 136, 0.3); }
        .payment-icon { font-size: 3.5rem; margin-bottom: 12px; }
        
        .wallet-box { background: #0a0e27; padding: 25px; border: 2px solid #00ff88; border-radius: 12px; margin: 25px 0; display: none; }
        .wallet-box.show { display: block; }
        .wallet-address { background: #1a1e37; padding: 18px; border-radius: 8px; font-family: 'Courier New', monospace; color: #00ff88; word-break: break-all; margin: 15px 0; font-size: 1.1rem; border: 1px solid #00ff88; }
        
        /* Alert */
        .alert { padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid; }
        .alert-info { background: rgba(0, 136, 255, 0.1); border-color: #0088ff; color: #88ccff; }
        .alert-warning { background: rgba(255, 165, 0, 0.1); border-color: #ffa500; color: #ffcc88; }
        .alert-success { background: rgba(0, 255, 136, 0.1); border-color: #00ff88; color: #88ffcc; }
        .alert-danger { background: rgba(255, 51, 102, 0.1); border-color: #ff3366; color: #ffccdd; }
        
        /* License Details */
        .license-details { background: #0a0e27; padding: 25px; border-radius: 12px; margin: 20px 0; border: 2px solid #00ff88; }
        .detail-row { display: grid; grid-template-columns: 200px 1fr; gap: 15px; padding: 12px 0; border-bottom: 1px solid #444; }
        .detail-row:last-child { border-bottom: none; }
        .detail-label { color: #00ff88; font-weight: bold; }
        .detail-value { color: white; word-break: break-word; }
        
        /* Search & Filter */
        .search-bar { margin: 20px 0; }
        .search-bar input { width: 100%; max-width: 500px; padding: 12px; background: #0a0e27; border: 2px solid #00ff88; border-radius: 8px; color: white; font-size: 1rem; }
        
        /* Info Box */
        .info-box { background: linear-gradient(135deg, rgba(0, 136, 255, 0.1), rgba(0, 102, 204, 0.05)); border: 2px solid #0088ff; padding: 30px; border-radius: 15px; margin: 25px 0; }
        .info-box h4 { color: #0088ff; margin-bottom: 15px; font-size: 1.3rem; }
        
        .hidden { display: none !important; }
        
        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            .pricing-grid, .stats-grid, .feature-grid { grid-template-columns: 1fr; }
            .modal-content { padding: 25px; margin: 20px auto; }
            .form-grid { grid-template-columns: 1fr; }
            .detail-row { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>üê∫ Wolf FX Trading Academy</h1>
            <p class="subtitle">Advanced Automated Trading Solutions</p>
            <div class="nav">
                <button class="nav-btn" onclick="showPage('home')">üè† Home</button>
                <button class="nav-btn" onclick="showPage('about')">‚ÑπÔ∏è About EA</button>
                <button class="nav-btn" onclick="showPage('customer-login')">üë§ Customer Login</button>
                <button class="nav-btn" onclick="showPage('admin-login')">üîê Admin Login</button>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- HOME PAGE -->
        <div id="home" class="page active">
            <div class="hero">
                <h2>üöÄ Transform Your Trading Today</h2>
                <p>Join 500+ successful traders using our proven Expert Advisor</p>
                <button class="btn" onclick="showPage('about')" style="max-width: 400px; margin: 0 auto;">Learn More About Our EA</button>
            </div>
            
            <div class="section">
                <h2>Choose Your Perfect Plan</h2>
                <div class="pricing-grid">
                    <div class="pricing-card">
                        <div class="plan-badge">STARTER</div>
                        <div class="plan-name">Weekly</div>
                        <div class="plan-price">$50</div>
                        <div class="plan-duration">7 Days Access</div>
                        <ul class="plan-features">
                            <li>Full EA Access</li>
                            <li>All Trading Features</li>
                            <li>Email Support</li>
                            <li>Perfect for Testing</li>
                        </ul>
                        <button class="btn" onclick="startPurchase('weekly', 50, 7)">Start Weekly</button>
                    </div>
                    <div class="pricing-card">
                        <div class="plan-badge">POPULAR</div>
                        <div class="plan-name">Monthly</div>
                        <div class="plan-price">$150</div>
                        <div class="plan-duration">30 Days Access</div>
                        <ul class="plan-features">
                            <li>Full EA Access</li>
                            <li>Priority Support</li>
                            <li>Dashboard Access</li>
                            <li>Strategy Tips</li>
                        </ul>
                        <button class="btn" onclick="startPurchase('monthly', 150, 30)">Start Monthly</button>
                    </div>
                    <div class="pricing-card">
                        <div class="plan-badge">BEST VALUE</div>
                        <div class="plan-name">Quarterly</div>
                        <div class="plan-price">$350</div>
                        <div class="plan-duration">90 Days ‚Ä¢ Save $100</div>
                        <ul class="plan-features">
                            <li>Full EA Access</li>
                            <li>Priority Support</li>
                            <li>Strategy Guide</li>
                            <li>Trading Community</li>
                        </ul>
                        <button class="btn" onclick="startPurchase('quarterly', 350, 90)">Start Quarterly</button>
                    </div>
                    <div class="pricing-card">
                        <div class="plan-badge">PRO</div>
                        <div class="plan-name">Annual</div>
                        <div class="plan-price">$1,499</div>
                        <div class="plan-duration">365 Days ‚Ä¢ Save $301</div>
                        <ul class="plan-features">
                            <li>Full EA Access</li>
                            <li>VIP Support</li>
                            <li>Free Updates</li>
                            <li>Maximum Savings</li>
                        </ul>
                        <button class="btn" onclick="startPurchase('annual', 1499, 365)">Start Annual</button>
                    </div>
                    <div class="pricing-card">
                        <div class="plan-badge">ULTIMATE</div>
                        <div class="plan-name">Lifetime</div>
                        <div class="plan-price">$3,000</div>
                        <div class="plan-duration">Forever Access</div>
                        <ul class="plan-features">
                            <li>Lifetime Access</li>
                            <li>VIP Support</li>
                            <li>All Updates Free</li>
                            <li>Ultimate Package</li>
                        </ul>
                        <button class="btn" onclick="startPurchase('lifetime', 3000, 36500)">Get Lifetime Access</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ABOUT EA PAGE -->
        <div id="about" class="page">
            <div class="section">
                <h2>ü§ñ About Wolf FX Expert Advisor</h2>
                
                <div class="hero" style="text-align: left;">
                    <h3>What is an Expert Advisor (EA)?</h3>
                    <p style="font-size: 1.1rem;">An Expert Advisor is an automated trading software that executes trades on your behalf based on pre-programmed algorithms and market analysis. Think of it as having a professional trader working for you 24/7, never missing opportunities and trading without emotions.</p>
                </div>
                
                <h3>üéØ Why Wolf FX EA?</h3>
                <p>The Wolf FX Expert Advisor is specifically designed for the Forex market, utilizing advanced algorithms to identify profitable trading opportunities. Our EA has been tested extensively on multiple currency pairs and has shown consistent results.</p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">‚ö°</div>
                        <div class="feature-title">Lightning Fast Execution</div>
                        <p>Execute trades in milliseconds, capturing opportunities that manual traders would miss.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üõ°Ô∏è</div>
                        <div class="feature-title">Advanced Risk Management</div>
                        <p>Built-in stop-loss, take-profit, and trailing stop features protect your capital.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üéØ</div>
                        <div class="feature-title">High Win Rate</div>
                        <p>Proven strategy with consistent profitability across multiple market conditions.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üîÑ</div>
                        <div class="feature-title">24/7 Trading</div>
                        <p>Never miss a trading opportunity. EA works round the clock monitoring markets.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üìä</div>
                        <div class="feature-title">Multi-Pair Trading</div>
                        <p>Trade multiple currency pairs simultaneously for diversification.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üîê</div>
                        <div class="feature-title">Secure & Licensed</div>
                        <p>Each EA is bound to your MT5 account for maximum security.</p>
                    </div>
                </div>
                
                <h3>üí∞ Why Subscribe?</h3>
                <div class="info-box">
                    <h4>üîë License Protection</h4>
                    <p><strong>Your EA is bound to YOUR MT5 account only.</strong> This means:</p>
                    <ul>
                        <li>‚úÖ <strong>Security:</strong> Nobody else can use your license</li>
                        <li>‚úÖ <strong>No Piracy:</strong> Prevents unauthorized copying</li>
                        <li>‚úÖ <strong>Support:</strong> We know exactly which version you're using</li>
                        <li>‚úÖ <strong>Updates:</strong> Seamless updates when we improve the EA</li>
                    </ul>
                </div>
                
                <div class="info-box">
                    <h4>üìà Continuous Development</h4>
                    <p><strong>Your subscription funds ongoing improvements:</strong></p>
                    <ul>
                        <li>üîÑ Regular strategy updates based on market conditions</li>
                        <li>üêõ Bug fixes and performance optimizations</li>
                        <li>‚ú® New features and trading strategies</li>
                        <li>üìä Market analysis and algorithm refinements</li>
                        <li>üí¨ Dedicated support team</li>
                    </ul>
                </div>
                
                <div class="info-box">
                    <h4>üéì What You Get</h4>
                    <ul>
                        <li><strong>‚úÖ Wolf FX EA v3.25</strong> - Latest version with all features</li>
                        <li><strong>‚úÖ Installation Guide</strong> - Step-by-step setup instructions</li>
                        <li><strong>‚úÖ Strategy Guide</strong> - Best practices for using the EA</li>
                        <li><strong>‚úÖ Risk Management Templates</strong> - Pre-configured settings</li>
                        <li><strong>‚úÖ WhatsApp Community</strong> - 500+ traders sharing insights</li>
                        <li><strong>‚úÖ Email Support</strong> - Direct help when you need it</li>
                        <li><strong>‚úÖ Priority Updates</strong> - Get new versions first</li>
                    </ul>
                </div>
                
                <h3>üîÑ How It Works</h3>
                <div style="background: rgba(0, 255, 136, 0.05); padding: 30px; border-radius: 15px; border-left: 5px solid #00ff88; margin: 25px 0;">
                    <p style="font-size: 1.1rem; margin-bottom: 15px;"><strong>Step 1:</strong> Choose your subscription plan</p>
                    <p style="font-size: 1.1rem; margin-bottom: 15px;"><strong>Step 2:</strong> Make payment and provide your MT5 account details</p>
                    <p style="font-size: 1.1rem; margin-bottom: 15px;"><strong>Step 3:</strong> We verify payment and approve your license (within 24 hours)</p>
                    <p style="font-size: 1.1rem; margin-bottom: 15px;"><strong>Step 4:</strong> Receive activation email with download link and license key</p>
                    <p style="font-size: 1.1rem; margin-bottom: 15px;"><strong>Step 5:</strong> Install EA, enter license key, start trading!</p>
                    <p style="font-size: 1.1rem;"><strong>Step 6:</strong> Your EA is active for your subscription period</p>
                </div>
                
                <h3>‚è∞ Subscription vs. Lifetime</h3>
                <p><strong>Subscription Plans (Weekly/Monthly/Quarterly/Annual):</strong></p>
                <ul>
                    <li>‚úÖ Perfect for testing or short-term trading</li>
                    <li>‚úÖ Lower upfront cost</li>
                    <li>‚úÖ Flexibility to pause or change plans</li>
                    <li>‚úÖ Auto-renewal available (coming soon)</li>
                    <li>‚ö†Ô∏è Requires renewal when expired</li>
                </ul>
                
                <p style="margin-top: 20px;"><strong>Lifetime Plan:</strong></p>
                <ul>
                    <li>‚úÖ One-time payment, forever access</li>
                    <li>‚úÖ All future updates included</li>
                    <li>‚úÖ Best value for long-term traders</li>
                    <li>‚úÖ Priority support</li>
                    <li>‚úÖ Never worry about renewal</li>
                </ul>
                
                <div class="alert alert-success" style="margin-top: 30px;">
                    <strong>üéâ Ready to start automated trading?</strong><br>
                    Choose a plan that fits your needs and join our successful trading community today!
                </div>
                
                <button class="btn" onclick="showPage('home')" style="max-width: 400px;">View Pricing Plans</button>
            </div>
        </div>

        <!-- CUSTOMER LOGIN -->
        <div id="customer-login" class="page">
            <div class="section">
                <h2>Customer Portal</h2>
                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" id="cust-email" placeholder="your@email.com">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="cust-pass" placeholder="Enter your password">
                </div>
                <button class="btn" onclick="customerLogin()">üîì Login</button>
                <div class="alert alert-info" style="margin-top: 20px;">
                    <strong>New Customer?</strong> Purchase a plan to create your account automatically.
                </div>
            </div>
        </div>

        <!-- CUSTOMER DASHBOARD -->
        <div id="customer-dashboard" class="page">
            <div class="section">
                <h2>Welcome, <span id="customer-name-display"></span>!</h2>
                <div id="customer-licenses-container"></div>
                <button class="btn btn-danger" onclick="customerLogout()" style="margin-top: 30px;">üö™ Logout</button>
            </div>
        </div>

        <!-- ADMIN LOGIN -->
        <div id="admin-login" class="page">
            <div class="section">
                <h2>Admin Access</h2>
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" id="admin-user" value="aminfx">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="admin-pass">
                </div>
                <button class="btn" onclick="adminLogin()">üîê Login as Admin</button>
            </div>
        </div>

        <!-- ADMIN DASHBOARD -->
        <div id="admin-dashboard" class="page">
            <div class="section">
                <h2>Admin Dashboard</h2>
                
                <!-- Statistics -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Total Licenses</div>
                        <div class="stat-value" id="stat-total">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">‚è≥ Pending</div>
                        <div class="stat-value" id="stat-pending" style="color: #ffa500;">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">‚úÖ Active</div>
                        <div class="stat-value" id="stat-active">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">‚ö†Ô∏è Expiring Soon</div>
                        <div class="stat-value" id="stat-expiring" style="color: #ffa500;">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">üí∞ Revenue</div>
                        <div class="stat-value" id="stat-revenue" style="font-size: 2rem;">$0</div>
                    </div>
                </div>
                
                <!-- Search & Filter -->
                <div class="search-bar">
                    <input type="text" id="admin-search" placeholder="üîç Search by name, email, license key..." onkeyup="filterLicenses()">
                </div>
                
                <!-- Licenses Table -->
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>License Key</th>
                                <th>Customer Name</th>
                                <th>Email</th>
                                <th>Plan</th>
                                <th>Amount</th>
                                <th>TX ID</th>
                                <th>Status</th>
                                <th>Time Remaining</th>
                                <th>Expiry Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="admin-licenses-body"></tbody>
                    </table>
                </div>
                
                <button class="btn btn-danger" onclick="adminLogout()" style="margin-top: 30px;">üö™ Logout</button>
            </div>
        </div>
    </div>

    <!-- PURCHASE MODAL -->
    <div id="purchaseModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal()">√ó</button>
            
            <!-- Step 1: Customer Info -->
            <div id="purchase-step1" class="section">
                <h2>üìù Your Information</h2>
                <p style="color: #8892a8; margin-bottom: 25px;">Selected Plan: <span id="selected-plan-name" style="color: #00ff88; font-size: 1.3rem; font-weight: bold;"></span></p>
                
                <div class="form-grid">
                    <div class="form-group"><label>Full Name *</label><input type="text" id="p-name" placeholder="John Doe"></div>
                    <div class="form-group"><label>Email Address *</label><input type="email" id="p-email" placeholder="john@example.com"></div>
                </div>
                <div class="form-group"><label>Password * (for your account)</label><input type="password" id="p-password" placeholder="Create a secure password"></div>
                <div class="form-grid">
                    <div class="form-group"><label>Country *</label><input type="text" id="p-country" placeholder="United States"></div>
                    <div class="form-group"><label>WhatsApp Number *</label><input type="text" id="p-whatsapp" placeholder="+1234567890"></div>
                </div>
                
                <h3 style="color: #00ff88; margin: 30px 0 20px;">MT5 Account Details</h3>
                <div class="form-grid">
                    <div class="form-group"><label>MT5 Account Number *</label><input type="text" id="p-mt5" placeholder="12345678"></div>
                    <div class="form-group"><label>Broker *</label><input type="text" id="p-broker" placeholder="IC Markets"></div>
                </div>
                <div class="form-group"><label>Server *</label><input type="text" id="p-server" placeholder="ICMarkets-Demo01"></div>
                
                <button class="btn" onclick="goToPayment()">Continue to Payment ‚Üí</button>
            </div>
            
            <!-- Step 2: Payment -->
            <div id="purchase-step2" class="section hidden">
                <h2>üí≥ Payment</h2>
                <p style="font-size: 1.3rem; margin-bottom: 25px;">Amount to Pay: <span id="payment-amount-display" style="color: #00ff88; font-size: 1.8rem; font-weight: bold;"></span></p>
                
                <h3 style="color: #00ff88; margin-bottom: 15px;">Select Payment Method:</h3>
                <div class="payment-methods">
                    <div class="payment-method" onclick="selectPayment('usdt')">
                        <div class="payment-icon">üí∞</div>
                        <div style="font-weight: bold;">USDT</div>
                        <div style="font-size: 0.85rem; color: #8892a8;">TRC20</div>
                    </div>
                    <div class="payment-method" onclick="selectPayment('btc')">
                        <div class="payment-icon">‚Çø</div>
                        <div style="font-weight: bold;">Bitcoin</div>
                        <div style="font-size: 0.85rem; color: #8892a8;">BTC</div>
                    </div>
                    <div class="payment-method" onclick="selectPayment('eth')">
                        <div class="payment-icon">Œû</div>
                        <div style="font-weight: bold;">Ethereum</div>
                        <div style="font-size: 0.85rem; color: #8892a8;">ETH</div>
                    </div>
                    <div class="payment-method" onclick="selectPayment('bnb')">
                        <div class="payment-icon">üî∂</div>
                        <div style="font-weight: bold;">BNB</div>
                        <div style="font-size: 0.85rem; color: #8892a8;">BEP20</div>
                    </div>
                    <div class="payment-method" onclick="selectPayment('mtn')">
                        <div class="payment-icon">üì±</div>
                        <div style="font-weight: bold;">MTN MoMo</div>
                        <div style="font-size: 0.85rem; color: #8892a8;">Ghana</div>
                    </div>
                    <div class="payment-method" onclick="selectPayment('vodafone')">
                        <div class="payment-icon">üì≤</div>
                        <div style="font-weight: bold;">Vodafone</div>
                        <div style="font-size: 0.85rem; color: #8892a8;">Ghana</div>
                    </div>
                </div>
                
                <div id="wallet-display-box" class="wallet-box">
                    <h3 style="color: #00ff88; margin-bottom: 15px;">üíº Send Payment To:</h3>
                    <div class="wallet-address" id="wallet-address-display"></div>
                    <button class="btn btn-secondary" onclick="copyWalletAddress()">üìã Copy Address</button>
                    
                    <div class="alert alert-warning" style="margin-top: 25px;">
                        <strong>‚ö†Ô∏è Important:</strong><br>
                        ‚Ä¢ Send exactly the amount shown above<br>
                        ‚Ä¢ After payment, enter your transaction ID below<br>
                        ‚Ä¢ Your license will be activated within 24 hours after verification
                    </div>
                    
                    <div class="form-group" style="margin-top: 25px;">
                        <label>Transaction ID / Hash *</label>
                        <input type="text" id="p-txid" placeholder="Enter transaction ID after making payment">
                    </div>
                    
                    <button class="btn" onclick="submitPurchase()">‚úÖ Submit for Approval</button>
                </div>
            </div>
            
            <!-- Step 3: Success/Pending -->
            <div id="purchase-step3" class="section hidden">
                <div style="text-align: center;">
                    <div style="font-size: 5rem; margin-bottom: 20px;">‚è≥</div>
                    <h2 style="margin-bottom: 20px;">Submission Received!</h2>
                    <div class="alert alert-success">
                        <p style="font-size: 1.2rem; margin-bottom: 15px;"><strong>Thank you for your purchase!</strong></p>
                        <p>Your license request is now pending admin approval.</p>
                    </div>
                    
                    <div class="license-details">
                        <div class="detail-row">
                            <div class="detail-label">Your Email:</div>
                            <div class="detail-value" id="confirm-customer-email"></div>
                        </div>
                        <div class="detail-row">
                            <div class="detail-label">Selected Plan:</div>
                            <div class="detail-value" id="confirm-plan"></div>
                        </div>
                        <div class="detail-row">
                            <div class="detail-label">Status:</div>
                            <div class="detail-value"><span class="badge badge-pending">PENDING APPROVAL</span></div>
                        </div>
                    </div>
                    
                    <div class="alert alert-info" style="margin-top: 25px;">
                        <p><strong>üìß What Happens Next?</strong></p>
                        <p style="margin-top: 10px;">
                            ‚úì Our admin will verify your payment<br>
                            ‚úì You'll receive an activation email within 24 hours<br>
                            ‚úì Email will include your license key and download link<br>
                            ‚úì You can login anytime to check your status
                        </p>
                    </div>
                    
                    <button class="btn" onclick="closeModal()">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
        // Initialize EmailJS
        (function() {
            emailjs.init("YOUR_PUBLIC_KEY"); // Replace with your EmailJS public key
        })();
        
        // Database
        let DB = {
            licenses: JSON.parse(localStorage.getItem('wolffx_licenses') || '[]'),
            customers: JSON.parse(localStorage.getItem('wolffx_customers') || '[]')
        };
        
        function saveDB() {
            localStorage.setItem('wolffx_licenses', JSON.stringify(DB.licenses));
            localStorage.setItem('wolffx_customers', JSON.stringify(DB.customers));
        }
        
        // Navigation
        function showPage(page) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            const pageEl = document.getElementById(page);
            if (pageEl) pageEl.classList.add('active');
        }
        
        // Purchase Flow
        let currentPurchase = {plan: '', price: 0, days: 0, method: ''};
        const wallets = {
            usdt: 'TAXifU2Q3FFiMCjzm2HRPN1HaLRGBvuYNw',
            btc: '1hW3CPAYd7NmwipzYxavY6cySuP8GAaRX',
            eth: '0xdca1049f2f663ce39dead162b2e0aeac9a00d73f',
            bnb: '0xdca1049f2f663ce39dead162b2e0aeac9a00d73f',
            mtn: '0597643120 (MTN MoMo - Amin MLM Trading Ent)',
            vodafone: '0505027255 (Vodafone Cash - Amin MLM Trading Ent)'
        };
        
        function startPurchase(plan, price, days) {
            if (!plan || !price || !days) return;
            currentPurchase = {plan: plan, price: price, days: days, method: ''};
            document.getElementById('selected-plan-name').textContent = (plan || '').toUpperCase() + ' - $' + price;
            document.getElementById('payment-amount-display').textContent = '$' + price;
            document.getElementById('purchaseModal').classList.add('active');
            document.getElementById('purchase-step1').classList.remove('hidden');
            document.getElementById('purchase-step2').classList.add('hidden');
            document.getElementById('purchase-step3').classList.add('hidden');
        }
        
        function closeModal() {
            document.getElementById('purchaseModal').classList.remove('active');
            ['p-name', 'p-email', 'p-password', 'p-country', 'p-whatsapp', 'p-mt5', 'p-broker', 'p-server', 'p-txid'].forEach(id => {
                const el = document.getElementById(id);
                if (el) el.value = '';
            });
        }
        
        function goToPayment() {
            const fields = {
                'p-name': 'Name',
                'p-email': 'Email',
                'p-password': 'Password',
                'p-country': 'Country',
                'p-whatsapp': 'WhatsApp',
                'p-mt5': 'MT5 Account',
                'p-broker': 'Broker',
                'p-server': 'Server'
            };
            
            for (let id in fields) {
                const el = document.getElementById(id);
                if (!el || !el.value.trim()) {
                    alert('‚ùå Please fill in: ' + fields[id]);
                    if (el) el.focus();
                    return;
                }
            }
            
            const email = document.getElementById('p-email').value.trim();
            if (!email.includes('@') || !email.includes('.')) {
                alert('‚ùå Please enter a valid email address!');
                document.getElementById('p-email').focus();
                return;
            }
            
            document.getElementById('purchase-step1').classList.add('hidden');
            document.getElementById('purchase-step2').classList.remove('hidden');
        }
        
        function selectPayment(method) {
            if (!method || !wallets[method]) return;
            currentPurchase.method = method;
            
            document.querySelectorAll('.payment-method').forEach(pm => pm.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            
            document.getElementById('wallet-address-display').textContent = wallets[method];
            document.getElementById('wallet-display-box').classList.add('show');
        }
        
        function copyWalletAddress() {
            const addr = document.getElementById('wallet-address-display').textContent;
            if (!addr) return;
            
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(addr).then(() => {
                    alert('‚úÖ Wallet address copied to clipboard!');
                }).catch(() => fallbackCopy(addr));
            } else {
                fallbackCopy(addr);
            }
        }
        
        function fallbackCopy(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed';
            textarea.style.opacity = '0';
            document.body.appendChild(textarea);
            textarea.select();
            try {
                document.execCommand('copy');
                alert('‚úÖ Wallet address copied!');
            } catch (err) {
                alert('‚ùå Could not copy. Please copy manually.');
            }
            document.body.removeChild(textarea);
        }
        
        function submitPurchase() {
            const txid = document.getElementById('p-txid').value.trim();
            if (!txid) {
                alert('‚ùå Please enter your transaction ID!');
                document.getElementById('p-txid').focus();
                return;
            }
            
            if (txid.length < 10) {
                alert('‚ùå Transaction ID seems too short. Please enter the complete hash/ID.');
                document.getElementById('p-txid').focus();
                return;
            }
            
            const licenseKey = 'WOLF-' + randStr(4) + '-' + randStr(4) + '-' + randStr(4) + '-' + randStr(4);
            const email = document.getElementById('p-email').value.trim();
            const password = document.getElementById('p-password').value.trim();
            const name = document.getElementById('p-name').value.trim();
            
            // Create customer account if doesn't exist
            if (!DB.customers.find(c => c.email === email)) {
                DB.customers.push({
                    email: email,
                    password: password,
                    name: name,
                    created: new Date().toISOString()
                });
            }
            
            // Create license (PENDING status)
            const newLicense = {
                licenseKey: licenseKey,
                status: 'pending',
                plan: currentPurchase.plan || 'unknown',
                price: currentPurchase.price || 0,
                durationDays: currentPurchase.days || 0,
                name: name,
                email: email,
                country: document.getElementById('p-country').value.trim(),
                whatsapp: document.getElementById('p-whatsapp').value.trim(),
                mt5: document.getElementById('p-mt5').value.trim(),
                broker: document.getElementById('p-broker').value.trim(),
                server: document.getElementById('p-server').value.trim(),
                method: currentPurchase.method || 'unknown',
                txid: txid,
                created: new Date().toISOString(),
                approved: null,
                expiry: null
            };
            
            DB.licenses.push(newLicense);
            saveDB();
            
            // Send notification email to admin
            sendAdminNotification(newLicense);
            
            // Show success
            document.getElementById('confirm-customer-email').textContent = email;
            document.getElementById('confirm-plan').textContent = (currentPurchase.plan || '').toUpperCase() + ' ($' + (currentPurchase.price || 0) + ')';
            document.getElementById('purchase-step2').classList.add('hidden');
            document.getElementById('purchase-step3').classList.remove('hidden');
        }
        
        // Email Functions
        function sendAdminNotification(license) {
            const templateParams = {
                to_email: 'aminfx.gh@gmail.com',
                subject: 'New License Purchase - Pending Approval',
                customer_name: license.name,
                customer_email: license.email,
                plan: (license.plan || '').toUpperCase(),
                price: license.price,
                txid: license.txid,
                mt5: license.mt5,
                broker: license.broker,
                server: license.server
            };
            
            emailjs.send('YOUR_SERVICE_ID', 'YOUR_ADMIN_TEMPLATE_ID', templateParams)
                .then(() => console.log('Admin notified'))
                .catch(err => console.error('Email error:', err));
        }
        
        function sendCustomerApprovalEmail(license) {
            const templateParams = {
                to_email: license.email,
                customer_name: license.name,
                license_key: license.licenseKey,
                plan: (license.plan || '').toUpperCase(),
                expiry_date: license.expiry || 'N/A',
                download_link: 'https://yoursite.com/download',
                whatsapp_link: 'https://chat.whatsapp.com/GN3XhxcknMcA9PjOIBumPS'
            };
            
            emailjs.send('YOUR_SERVICE_ID', 'YOUR_ACTIVATION_TEMPLATE_ID', templateParams)
                .then(() => {
                    console.log('Activation email sent');
                    alert('‚úÖ License approved! Activation email sent to customer.');
                })
                .catch(err => {
                    console.error('Email error:', err);
                    alert('‚ö†Ô∏è License approved but email failed. Please notify customer manually.');
                });
        }
        
        // Timer Functions
        function getTimeRemaining(expiryDate) {
            if (!expiryDate) return null;
            
            const now = new Date();
            const expiry = new Date(expiryDate);
            const diff = expiry - now;
            
            if (diff <= 0) return { expired: true, days: 0, hours: 0, minutes: 0 };
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            
            return { expired: false, days, hours, minutes };
        }
        
        function formatTimeRemaining(time) {
            if (!time || time.expired) return '<span class="timer-danger">EXPIRED</span>';
            
            let className = 'timer-value';
            if (time.days <= 7) className += ' timer-warning';
            if (time.days <= 3) className += ' timer-danger';
            
            return `<span class="${className}">${time.days}d ${time.hours}h ${time.minutes}m</span>`;
        }
        
        // Customer Area
        let currentCustomer = null;
        
        function customerLogin() {
            const email = document.getElementById('cust-email').value.trim();
            const pass = document.getElementById('cust-pass').value.trim();
            
            if (!email || !pass) {
                alert('‚ùå Please enter email and password!');
                return;
            }
            
            const customer = DB.customers.find(c => c.email === email && c.password === pass);
            if (!customer) {
                alert('‚ùå Invalid credentials! Please check your email and password.');
                return;
            }
            
            currentCustomer = customer;
            showPage('customer-dashboard');
            loadCustomerDashboard();
        }
        
        function loadCustomerDashboard() {
            if (!currentCustomer) return;
            
            document.getElementById('customer-name-display').textContent = currentCustomer.name || currentCustomer.email;
            
            const customerLicenses = DB.licenses.filter(l => l.email === currentCustomer.email);
            let html = '<h3 style="color: #00ff88; margin: 25px 0;">My Licenses</h3>';
            
            if (customerLicenses.length === 0) {
                html += '<div class="alert alert-info">You don\'t have any licenses yet. <a href="#" onclick="showPage(\'home\')" style="color: #00ff88; text-decoration: underline;">Purchase a plan</a> to get started!</div>';
            } else {
                customerLicenses.forEach(lic => {
                    const statusClass = lic.status === 'active' ? 'badge-active' : lic.status === 'expired' ? 'badge-expired' : 'badge-pending';
                    const statusText = (lic.status || 'unknown').toUpperCase();
                    
                    html += `<div class="license-details" style="margin-bottom: 25px;">
                        <div class="detail-row">
                            <div class="detail-label">License Key:</div>
                            <div class="detail-value" style="font-family: monospace; color: #00ff88; font-size: 1.2rem;">${lic.licenseKey || 'N/A'}</div>
                        </div>
                        <div class="detail-row">
                            <div class="detail-label">Plan:</div>
                            <div class="detail-value">${(lic.plan || 'unknown').toUpperCase()} - $${lic.price || 0}</div>
                        </div>
                        <div class="detail-row">
                            <div class="detail-label">Status:</div>
                            <div class="detail-value"><span class="badge ${statusClass}">${statusText}</span></div>
                        </div>`;
                    
                    if (lic.status === 'active' && lic.expiry) {
                        const timeLeft = getTimeRemaining(lic.expiry);
                        html += `<div class="detail-row">
                            <div class="detail-label">Time Remaining:</div>
                            <div class="detail-value">${formatTimeRemaining(timeLeft)}</div>
                        </div>
                        <div class="detail-row">
                            <div class="detail-label">Expiry Date:</div>
                            <div class="detail-value">${lic.expiry}</div>
                        </div>`;
                    } else if (lic.status === 'pending') {
                        html += `<div class="detail-row">
                            <div class="detail-label">Expiry Date:</div>
                            <div class="detail-value">Pending approval</div>
                        </div>`;
                    }
                    
                    html += `<div class="detail-row">
                        <div class="detail-label">Created:</div>
                        <div class="detail-value">${lic.created ? new Date(lic.created).toLocaleString() : 'N/A'}</div>
                    </div>`;
                    
                    if (lic.status === 'active' || lic.status === 'expired') {
                        html += `<div style="margin-top: 20px; text-align: center;">
                            <button class="btn btn-info btn-small" onclick="requestRenewal('${lic.licenseKey}')">üîÑ Renew License</button>
                        </div>`;
                    }
                    
                    html += `</div>`;
                });
                
                const activeLicense = customerLicenses.find(l => l.status === 'active');
                if (activeLicense) {
                    html += '<div class="alert alert-success"><strong>‚úÖ Your license is active!</strong><br>Download link and setup guide were sent to your email.</div>';
                }
            }
            
            document.getElementById('customer-licenses-container').innerHTML = html;
        }
        
        function requestRenewal(licenseKey) {
            alert('üîÑ Renewal Request\n\nPlease contact admin via WhatsApp or purchase a new license.\n\nWhatsApp: https://chat.whatsapp.com/GN3XhxcknMcA9PjOIBumPS');
        }
        
        function customerLogout() {
            currentCustomer = null;
            document.getElementById('cust-email').value = '';
            document.getElementById('cust-pass').value = '';
            showPage('customer-login');
        }
        
        // Admin Area
        let isAdmin = false;
        
        function adminLogin() {
            const user = document.getElementById('admin-user').value.trim();
            const pass = document.getElementById('admin-pass').value.trim();
            
            if (user === 'aminfx' && pass === 'Amiena702$') {
                isAdmin = true;
                showPage('admin-dashboard');
                loadAdminDashboard();
                // Auto-refresh every 60 seconds
                setInterval(loadAdminDashboard, 60000);
            } else {
                alert('‚ùå Invalid admin credentials!');
            }
        }
        
        function loadAdminDashboard() {
            updateAdminStats();
            displayAllLicenses();
        }
        
        function updateAdminStats() {
            const total = DB.licenses.length;
            const pending = DB.licenses.filter(l => l.status === 'pending').length;
            const active = DB.licenses.filter(l => l.status === 'active').length;
            const expiring = DB.licenses.filter(l => {
                if (l.status !== 'active' || !l.expiry) return false;
                const time = getTimeRemaining(l.expiry);
                return time && !time.expired && time.days <= 7;
            }).length;
            const revenue = DB.licenses.filter(l => l.status === 'active').reduce((sum, l) => sum + (l.price || 0), 0);
            
            document.getElementById('stat-total').textContent = total;
            document.getElementById('stat-pending').textContent = pending;
            document.getElementById('stat-active').textContent = active;
            document.getElementById('stat-expiring').textContent = expiring;
            document.getElementById('stat-revenue').textContent = '$' + revenue.toLocaleString();
        }
        
        function displayAllLicenses(filteredLicenses = null) {
            const licenses = filteredLicenses || DB.licenses;
            let html = '';
            
            if (licenses.length === 0) {
                html = '<tr><td colspan="10" style="text-align: center; padding: 40px; color: #8892a8;">No licenses found</td></tr>';
            } else {
                licenses.forEach((lic, idx) => {
                    const realIdx = DB.licenses.indexOf(lic);
                    const statusClass = lic.status === 'active' ? 'badge-active' : lic.status === 'expired' ? 'badge-expired' : 'badge-pending';
                    const createdDate = lic.created ? new Date(lic.created).toLocaleString() : 'N/A';
                    
                    let timeRemaining = 'N/A';
                    let rowClass = '';
                    if (lic.status === 'active' && lic.expiry) {
                        const time = getTimeRemaining(lic.expiry);
                        timeRemaining = formatTimeRemaining(time);
                        if (time && !time.expired && time.days <= 7) {
                            rowClass = 'expiring-soon';
                        }
                    } else if (lic.status === 'pending') {
                        rowClass = 'highlight';
                    }
                    
                    html += `<tr class="${rowClass}">
                        <td style="font-family: monospace; font-size: 0.9rem;">${lic.licenseKey || 'N/A'}</td>
                        <td><strong>${lic.name || 'N/A'}</strong></td>
                        <td>${lic.email || 'N/A'}</td>
                        <td>${(lic.plan || 'unknown').toUpperCase()}</td>
                        <td style="font-weight: bold; color: #00ff88;">$${lic.price || 0}</td>
                        <td style="font-family: monospace; font-size: 0.85rem;">${(lic.txid || 'N/A').substring(0, 12)}...</td>
                        <td><span class="badge ${statusClass}">${(lic.status || 'unknown').toUpperCase()}</span></td>
                        <td>${timeRemaining}</td>
                        <td style="font-size: 0.85rem;">${lic.expiry || 'Pending'}</td>
                        <td style="white-space: nowrap;">
                            ${lic.status === 'pending' ? 
                                `<button class="btn btn-small" onclick="approveLicense(${realIdx})">‚úÖ Approve</button>
                                 <button class="btn btn-small btn-danger" onclick="deleteLicense(${realIdx})">üóëÔ∏è Delete</button>` : ''}
                            ${lic.status === 'active' ?
                                `<button class="btn btn-small btn-warning" onclick="renewLicense(${realIdx})">üîÑ Renew</button>
                                 <button class="btn btn-small btn-danger" onclick="suspendLicense(${realIdx})">üõë Suspend</button>
                                 <button class="btn btn-small btn-danger" onclick="deleteLicense(${realIdx})">üóëÔ∏è Delete</button>` : ''}
                            ${lic.status === 'expired' ?
                                `<button class="btn btn-small btn-warning" onclick="renewLicense(${realIdx})">üîÑ Renew</button>
                                 <button class="btn btn-small btn-danger" onclick="deleteLicense(${realIdx})">üóëÔ∏è Delete</button>` : ''}
                            <button class="btn btn-small btn-secondary" onclick="viewLicenseDetails(${realIdx})">üëÅÔ∏è View</button>
                        </td>
                    </tr>`;
                });
            }
            
            document.getElementById('admin-licenses-body').innerHTML = html;
        }
        
        function filterLicenses() {
            const searchTerm = document.getElementById('admin-search').value.toLowerCase().trim();
            if (!searchTerm) {
                displayAllLicenses();
                return;
            }
            
            const filtered = DB.licenses.filter(lic => {
                return (lic.name || '').toLowerCase().includes(searchTerm) ||
                       (lic.email || '').toLowerCase().includes(searchTerm) ||
                       (lic.licenseKey || '').toLowerCase().includes(searchTerm) ||
                       (lic.txid || '').toLowerCase().includes(searchTerm) ||
                       (lic.plan || '').toLowerCase().includes(searchTerm);
            });
            
            displayAllLicenses(filtered);
        }
        
        function approveLicense(idx) {
            if (!DB.licenses[idx]) return;
            
            const lic = DB.licenses[idx];
            if (!confirm(`Approve license for ${lic.name}?\n\nPlan: ${(lic.plan || '').toUpperCase()}\nAmount: $${lic.price}\nTX ID: ${lic.txid}`)) {
                return;
            }
            
            lic.status = 'active';
            lic.approved = new Date().toISOString();
            
            // Calculate expiry based on duration
            const expiry = new Date();
            expiry.setDate(expiry.getDate() + (lic.durationDays || 30));
            lic.expiry = expiry.toISOString().split('T')[0];
            
            saveDB();
            sendCustomerApprovalEmail(lic);
            loadAdminDashboard();
        }
        
        function renewLicense(idx) {
            if (!DB.licenses[idx]) return;
            
            const lic = DB.licenses[idx];
            const daysInput = prompt(`Renew license for ${lic.name}\n\nEnter number of days to add:`, lic.durationDays || 30);
            if (!daysInput) return;
            
            const days = parseInt(daysInput);
            if (isNaN(days) || days <= 0) {
                alert('‚ùå Invalid number of days!');
                return;
            }
            
            lic.status = 'active';
            const newExpiry = new Date(lic.expiry || new Date());
            newExpiry.setDate(newExpiry.getDate() + days);
            lic.expiry = newExpiry.toISOString().split('T')[0];
            
            saveDB();
            alert(`‚úÖ License renewed! New expiry: ${lic.expiry}`);
            loadAdminDashboard();
        }
        
        function suspendLicense(idx) {
            if (!DB.licenses[idx]) return;
            
            const lic = DB.licenses[idx];
            if (confirm(`Suspend license for ${lic.name}?\n\nCustomer will lose access immediately.`)) {
                lic.status = 'expired';
                saveDB();
                loadAdminDashboard();
            }
        }
        
        function deleteLicense(idx) {
            if (!DB.licenses[idx]) return;
            
            const lic = DB.licenses[idx];
            if (confirm(`DELETE license for ${lic.name}?\n\nThis action cannot be undone!\n\nAre you absolutely sure?`)) {
                DB.licenses.splice(idx, 1);
                saveDB();
                loadAdminDashboard();
            }
        }
        
        function viewLicenseDetails(idx) {
            if (!DB.licenses[idx]) return;
            
            const lic = DB.licenses[idx];
            const timeLeft = lic.status === 'active' && lic.expiry ? getTimeRemaining(lic.expiry) : null;
            
            const details = `
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
LICENSE DETAILS
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

License Key: ${lic.licenseKey || 'N/A'}
Status: ${(lic.status || 'unknown').toUpperCase()}
Plan: ${(lic.plan || 'unknown').toUpperCase()}
Duration: ${lic.durationDays || 0} days
Amount: $${lic.price || 0}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
TIME INFORMATION
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

${timeLeft && !timeLeft.expired ? `Time Remaining: ${timeLeft.days}d ${timeLeft.hours}h ${timeLeft.minutes}m` : 'Time Remaining: N/A'}
Expiry Date: ${lic.expiry || 'Pending approval'}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
CUSTOMER INFORMATION
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Name: ${lic.name || 'N/A'}
Email: ${lic.email || 'N/A'}
Country: ${lic.country || 'N/A'}
WhatsApp: ${lic.whatsapp || 'N/A'}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
MT5 ACCOUNT DETAILS
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Account Number: ${lic.mt5 || 'N/A'}
Broker: ${lic.broker || 'N/A'}
Server: ${lic.server || 'N/A'}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
PAYMENT INFORMATION
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Payment Method: ${(lic.method || 'unknown').toUpperCase()}
Transaction ID: ${lic.txid || 'N/A'}
Amount Paid: $${lic.price || 0}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
DATES & TIMELINE
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Created: ${lic.created ? new Date(lic.created).toLocaleString() : 'N/A'}
${lic.approved ? 'Approved: ' + new Date(lic.approved).toLocaleString() : 'Approved: Not yet'}
${lic.expiry ? 'Expires: ' + lic.expiry : 'Expiry: Pending approval'}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
            `;
            
            alert(details);
        }
        
        function adminLogout() {
            isAdmin = false;
            document.getElementById('admin-pass').value = '';
            showPage('admin-login');
        }
        
        // Utility
        function randStr(len) {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let result = '';
            for (let i = 0; i < len; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }
        
        // Initialize
        console.log('Wolf FX System loaded. Database:', DB.licenses.length, 'licenses,', DB.customers.length, 'customers');
    </script>
</body>
</html>
